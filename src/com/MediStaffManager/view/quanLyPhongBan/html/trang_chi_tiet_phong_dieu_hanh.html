<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chi Tiết Phòng Ban</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="./../css/style_chung.css">
</head>
<body>
    <div class="page-container">
        <header class="page-header">
            <!-- Sửa ở đây: Tiêu đề sẽ được JS cập nhật -->
            <h1>Loading...</h1>
            <p>Quản lý nhân viên trong phòng ban.</p>
        </header>

        <main class="content-area">
            <div class="table-container">
                <table id="employeeDetailTable">
                    <thead>
                        <tr>
                            <th style="width: 5%; text-align: center;">
                                <input type="checkbox" id="select-all-employees" title="Chọn tất cả">
                                <label for="select-all-employees" style="cursor: pointer; padding-left: 5px;">CHỌN TẤT CẢ</label>
                            </th>
                            <th style="width: 10%;">ID NV</th>
                            <th style="width: 25%;">TÊN NHÂN VIÊN</th>
                            <th style="width: 15%;">SĐT</th>
                            <th style="width: 25%;">EMAIL</th>
                            <th style="width: 20%;">CHỨC VỤ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- JavaScript sẽ điền dữ liệu vào đây -->
                        <tr><td colspan="6" style="text-align:center;">Đang tải dữ liệu...</td></tr>
                    </tbody>
                </table>
            </div>
        </main>

        <footer class="app-footer">
            <!-- Sửa ở đây: Thêm ID cho các nút để JS có thể bắt sự kiện -->
            <button class="btn btn-danger" id="btnDeleteSelected">Xóa</button>
            <button class="btn btn-primary" id="btnTransferSelected">Chuyển phòng ban</button>
        </footer>
    </div>

    <!-- Modal Xác Nhận Xóa/Chuyển -->
    <div id="customConfirmModal" class="modal-overlay" style="display: none;">
        <div class="modal-content confirm-modal">
            <div class="modal-header">
                <h3 id="customConfirmTitle">Xác nhận</h3>
            </div>
            <div class="modal-body">
                <p id="customConfirmMessage"></p>
            </div>
            <div class="modal-footer">
                <div style="text-align: center; width: 100%;">
                    <button class="btn btn-secondary" id="customConfirmCancel">Hủy</button>
                    <button class="btn btn-danger" id="customConfirmOk">Đồng ý</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Thông báo (Success, Error, Warning) -->
    <div id="notificationModal" class="modal-overlay" style="display: none;">
        <div class="modal-content notification-modal">
            <div class="modal-header">
                <h3 id="notificationTitle">Thông báo</h3>
                <span class="close-button" id="closeNotificationBtn">×</span>
            </div>
            <div class="modal-body">
                <div id="notificationIcon" class="notification-icon"><span></span></div>
                <p id="notificationModalMessage"></p>
            </div>
            <div class="modal-footer">
                 <div style="text-align: center; width: 100%;">
                    <button class="btn btn-primary" id="notificationOkBtn">OK</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modal chọn phòng ban để chuyển -->
    <div id="transferEmployeeModal" class="modal-overlay" style="display: none;">
        <div class="modal-content confirm-modal">
            <div class="modal-header">
                <h3>Chọn phòng ban để chuyển</h3>
            </div>
            <div class="modal-body">
                <p>Vui lòng chọn phòng ban mới cho các nhân viên đã chọn:</p>
                <select id="transfer-department-select" class="form-control" style="width: 100%; margin-top: 10px;">
                    <option value="">-- Chọn phòng ban --</option>
                </select>
            </div>
            <div class="modal-footer">
                <div style="text-align: center; width: 100%;">
                    <button class="btn btn-secondary" id="btn-cancel-transfer">Hủy</button>
                    <button class="btn btn-primary" id="btn-confirm-transfer">Xác nhận</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Quan trọng: Load các file JS ở cuối trang -->
    <script src="./../js/phongBan.js"></script>
    <script src="./../js/nhanVien.js"></script>
    <script src="./../js/main.js"></script>
</body>
</html>